<div class="user-edit profile-page grey-bg">

  <div>
    <img class="profile-picture" src="{{user.profileImgSrc}}"/>
    <p class="user-project-quantity">{{#if user.projects.length}} {{user.projects.length}} {{else}} 0{{/if}} projects</p>
  </div>

  <form action="/userEdit" method="POST" enctype="multipart/form-data">

    <div>
      <h1 class="form-title">Edit my profile</h1>

      <label for="input-email">Email</label>
      <input type="email" id="input-email" name="email" value="{{user.email}}"
        placeholder="sheldon_cooper@caltech.edu">

      <label for="input-password">Password</label>
      <input type="password" name="password" id="input-password" placeholder="********">

      
      <!-- FIELD - Profile picture -->
      <div class="profile-images">
        <label for="image-input">Profile picture</label>
        <input type="file" name="image" id="image-input" class="form-control-file" value="{{user.profileImgSrc}}"/>
      </div>

      {{#if user.ironhacker}}<label for="ironhacker"><input type="checkbox" class="ironhacker-check" id="ironhacker"
          onclick="ironhackerSignupBox()" name="ironhacker" value="true" {{#if user.ironhacker}}checked{{/if}}>I
        am an Ironhacker</label>
        
      {{else}}

      <label for="ironhacker"><input type="checkbox" class="ironhacker-check" id="ironhacker"
          onclick="ironhackerSignupBox()" name="ironhacker" value="true">Now, I
        am an Ironhacker</label>

      {{/if}}



      <button type="submit" id="updateAccount" class="small-btn blue-btn visible">Update my account</button>

      {{#if errorMessage}}
      <p class="error">{{errorMessage}}</p>
      {{/if}}
    </div>

    <!--Part displayed if ironhacker-->
    <div class="ironhacker-signup-box <!--invisible-->" id="ironhacker-signup-box" {{#if user.ironhacker}}style="display: block;"{{/if}}>

      <div>

        <div class="flex">
          <div>
            <label for="input-firstname">Firstname*</label>
            <input type="text" id="input-firstname" name="firstName" placeholder="Sheldon" value="{{user.firstName}}">
          </div>

          <div>
            <label for="input-lastname">Lastname*</label>
            <input type="text" id="input-lastname" name="lastName" placeholder="Cooper" value="{{user.lastName}}">
          </div>
        </div>

        <label for="input-expertise">Expertise</label>
        <input type="text" id="input-expertise" name="expertise" placeholder="super-asymmetry" value="{{user.expertise}}">

        <div class="flex">
          <div>
            <label for="input-campus">Campus*</label>
            <select name="campus" id="input-campus">
              <option value="{{user.campus}}">--Please select your campus--</option>
              <option value="Amsterdam">Amsterdam</option>
              <option value="Barcelona">Barcelona</option>
              <option value="Berlin">Berlin</option>
              <option value="Lisboa">Lisboa</option>
              <option value="Madrid">Madrid</option>
              <option value="Mexico">Mexico</option>
              <option value="Miami">Miami</option>
              <option value="Paris">Paris</option>
              <option value="Remote">Remote</option>
              <option value="Sao Paulo">Sao Paulo</option>
            </select>
          </div>

          <div>
          <label for="input-location">Current location</label>
          <input type="text" id="input-location" name="location" placeholder="Paris, France" value="{{user.current_location}}">
          </div>
        </div>

        <label for="input-course">course*</label>
        <select name="course" id="input-course">
          <option value="{{user.course}}">--What did you study?--</option>
          <option value="Web-Dev">Web-Dev</option>
          <option value="UX/UI">UX/UI</option>
          <option value="Data">Data</option>
          <option value="Cyber_Security">Cyber Security</option>
        </select>

        <div class="flex">
          <div>
            <label for="input-format">format</label>
            <select name="format" id="input-format">
              <option value="{{user.format}}">--What was your course format?--</option>
              <option value="Part-Time">Part Time</option>
              <option value="Full-Time">Full Time</option>
            </select>
          </div>

          <div>
            <label for="input-promo">Promo</label>
            <input type="month" id="input-promo" name="Promo" placeholder="2020-06" min="2013-01" value="{{user.promo}}">
          </div>
        </div>

        <label for="input-github">Github</label>
        <input type="text" id="input-github" name="github" placeholder="https://github.com/myAccount" value="{{user.gitHub}}">

        <label for="input-linkedin">linkedIn</label>
        <input type="text" id="input-linkedin" name="linkedIn" placeholder="https://www.linkedin.com/in/my-account/" value="{{user.linkedIn}}">

        <p class="mandatory">* mandatory</p>

        <button type="submit" id="createAccountBtnRight" class="small-btn blue-btn invisible">Create
          an account</button>

      </div>
    </div>

  </form>

</div>

<script>
  function ironhackerSignupBox() {
    var checkBox = document.getElementById("ironhacker");
    var ironhackerSignupBox = document.getElementById("ironhacker-signup-box");
    var createAccountBtnLeft = document.getElementById("createAccountBtnLeft");
    var createAccountBtnRight = document.getElementById("createAccountBtnRight");
    if (checkBox.checked == true) {
      ironhackerSignupBox.style.display = "block";
      createAccountBtnLeft.classList.add("invisible")
      createAccountBtnLeft.classList.remove("visible")
      createAccountBtnRight.classList.add("visible")
      createAccountBtnRight.classList.remove("invisible")

    } else {
      ironhackerSignupBox.style.display = "none";
      createAccountBtnLeft.classList.add("visible")
      createAccountBtnLeft.classList.remove("invisible")
      createAccountBtnRight.classList.add("invisible")
      createAccountBtnRight.classList.remove("visible")
    }
  }
</script>

<script>
  function checkBoxIronhacker(errorMessage) {
    if (errorMessage != 'All Fields are mandatory.') {
      { { !--window.onload = onPageLoad(); --} }
      document.getElementById("ironhacker").checked = true;
    }
  }
</script>